{% extends "base.html.jinja" %}

{% block title %}
    API Documentation
{% endblock %}

{% block header %}
    API Documentation
{% endblock %}

{% block content %}
<div style="padding-bottom: 10px;">
Endpoints<small> | This documentation describes the WikiFlask API endpoints.</small>
</div>
<div class="accordion" id="endpointAccordion">
    <div class="card-body">




        <div class="accordion-item">
            <h2 class="accordion-header" id="headingOne">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne">
                    GET /api/v2/
                </button>
            </h2>
            <div id="collapseOne" class="accordion-collapse collapse" data-bs-parent="#endpointAccordion">
                <div class="accordion-body">
                    <p>Retrieve all pages.</p>
                    cURL:
                    <pre style="background-color: #f8f9fa; color: #333; padding: 10px; border-radius: 5px;"><code>
curl -X GET "http://localhost:5000/api/v2/"
                    </code></pre>
                    Python Requests:
                    <pre style="background-color: #f8f9fa; color: #333; padding: 10px; border-radius: 5px;"><code>
import requests
response = requests.get("http://localhost:5000/api/v2/")
print(response.json())
                    </code></pre>
                    Response:
                    <pre style="background-color: #f8f9fa; color: #333; padding: 10px; border-radius: 5px;"><code>
[
    {
        "_id": "page_id",
        "title": "Page Title",
        "content": "Page Content"
    },
    ...
]
                    </code></pre>
                </div>
            </div>
        </div>





        <div class="accordion-item">
            <h2 class="accordion-header" id="headingTwo">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo">
                    GET /api/v2/&lt;page_name&gt;
                </button>
            </h2>
            <div id="collapseTwo" class="accordion-collapse collapse" data-bs-parent="#endpointAccordion">
                <div class="accordion-body">
                    <p>Retrieve a specific page by its id.</p>
                    cURL:
                    <pre style="background-color: #f8f9fa; color: #333; padding: 10px; border-radius: 5px;"><code>
curl -X GET "http://localhost:5000/api/v2/&lt;page_name&gt;"
                    </code></pre>
                    Python Requests:
                    <pre style="background-color: #f8f9fa; color: #333; padding: 10px; border-radius: 5px;"><code>
import requests
response = requests.get("http://localhost:5000/api/v2/&lt;page_name&gt;")
print(response.json())
                    </code></pre>
                    Response:
                    <pre style="background-color: #f8f9fa; color: #333; padding: 10px; border-radius: 5px;"><code>
{
    "_id": "page_id",
    "title": "Page Title",
    "content": "Page Content"
}
                    </code></pre>
                </div>
            </div>
        </div>

        <div class="accordion-item">
            <h2 class="accordion-header" id="headingThree">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThree">
                    POST /api/v2/&lt;page_name&gt;
                </button>
            </h2>
            <div id="collapseThree" class="accordion-collapse collapse" data-bs-parent="#endpointAccordion">
                <div class="accordion-body">
                    <p>Update a specific page by its id with the data in the request body.</p>
                    cURL:
                    <pre style="background-color: #f8f9fa; color: #333; padding: 10px; border-radius: 5px;"><code>
curl -X POST "http://localhost:5000/api/v2/&lt;page_name&gt;" -H "Content-Type: application/json" -d '{"title": "New Page Title", "content": "New Page Content"}'
                    </code></pre>
                    Python Requests:
                    <pre style="background-color: #f8f9fa; color: #333; padding: 10px; border-radius: 5px;"><code>
import requests
data = {"title": "New Page Title", "content": "New Page Content"}
response = requests.post("http://localhost:5000/api/v2/&lt;page_name&gt;", json=data)
print(response.json())
                    </code></pre>
                    Response:
                    <pre style="background-color: #f8f9fa; color: #333; padding: 10px; border-radius: 5px;"><code>
{
    "message": "success",
    "document_id": "page_id"
}
                    </code></pre>
                </div>
            </div>
        </div>



        <div class="accordion-item">
            <h2 class="accordion-header" id="headingFour">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseFour">
                    DELETE /api/v2/&lt;page_name&gt;
                </button>
            </h2>
            <div id="collapseFour" class="accordion-collapse collapse" data-bs-parent="#endpointAccordion">
                <div class="accordion-body">
                    <p>Delete a specific page by its id.</p>
                    cURL:
                    <pre style="background-color: #f8f9fa; color: #333; padding: 10px; border-radius: 5px;"><code>
curl -X DELETE "http://localhost:5000/api/v2/&lt;page_name&gt;"
                    </code></pre>
                    Python Requests:
                    <pre style="background-color: #f8f9fa; color: #333; padding: 10px; border-radius: 5px;"><code>
import requests
response = requests.delete("http://localhost:5000/api/v2/&lt;page_name&gt;")
print(response.json())
                    </code></pre>
                    Response:
                    <pre style="background-color: #f8f9fa; color: #333; padding: 10px; border-radius: 5px;"><code>
{
    "message": "Page deleted successfully"
}
                    </code></pre>
                </div>
            </div>
        </div>

        <div class="accordion-item">
            <h2 class="accordion-header" id="headingFive">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseFive">
                    POST /api/v2/
                </button>
            </h2>
            <div id="collapseFive" class="accordion-collapse collapse" data-bs-parent="#endpointAccordion">
                <div class="accordion-body">
                    <p>Create a new page with the data in the request body.</p>
                    cURL:
                    <pre style="background-color: #f8f9fa; color: #333; padding: 10px; border-radius: 5px;"><code>
curl -X POST "http://localhost:5000/api/v2/" -H "Content-Type: application/json" -d '{"title": "New Page Title", "content": "New Page Content"}'
                    </code></pre>
                    Python Requests:
                    <pre style="background-color: #f8f9fa; color: #333; padding: 10px; border-radius: 5px;"><code>
import requests
data = {"title": "New Page Title", "content": "New Page Content"}
response = requests.post("http://localhost:5000/api/v2/", json=data)
print(response.json())
                    </code></pre>
                    Response:
                    <pre style="background-color: #f8f9fa; color: #333; padding: 10px; border-radius: 5px;"><code>
{
    "message": "success",
    "document_id": "new_page_id"
}
                    </code></pre>
                </div>
            </div>
        </div>


        
    </div>
</div>

{% endblock %}